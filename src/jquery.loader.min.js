/**
 * loader(加载器)
 * @param _files 参数说明：加载的文件数组。
 * @param succes 参数说明：文件加载成功后的回调函数。
 * 依赖：jQuery
 * 说明：检查css、js是否加载，未加载则按文件数组顺序加载文件。
 * 作者：manyan
 * 邮箱：znjmails@qq.com
 * 示例：
 * $.loader(['__ADMIN_JS__/apps.js', '__ADMIN_JS__/common.js?20170706'],function(){
 *      //这里写加载完成后需要执行的代码或方法
 * })
 */
 ;(function(factory){if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else{factory(jQuery)}}(function($){$.extend({loader:function(fileArray,succes){if(fileArray.length>0){var file_array=[];for(var item=0;item<fileArray.length;item++){var url=fileArray[item];if(isContains(url,'.js')){if($("script[src='"+url+"']").length==0){file_array.push(url)}}else if(isContains(url,'.css')){if($("link[href='"+url+"']").length==0){file_array.push(url)}}}}else{succes()};if(file_array.length>0){var loaded_count=0;for(var i=0;i<file_array.length;i++){loadFile(file_array[i],function(){loaded_count++;if(loaded_count==file_array.length){succes()}})}}else{succes()};function loadFile(url,success){var fileObj=null;if(isContains(url,'.js')){fileObj=document.createElement('script');fileObj.type="text/javascript";fileObj.src=url}else if(isContains(url,'.css')){fileObj=document.createElement('link');fileObj.href=url;fileObj.type="text/css";fileObj.rel="stylesheet"};fileObj.onload=fileObj.onreadystatechange=function(){if(!this.readyState||'loaded'===this.readyState||'complete'===this.readyState){success()}};document.getElementsByTagName('head')[0].appendChild(fileObj)};function isContains(str,substr){return new RegExp(substr).test(str.toLowerCase())}}})}));